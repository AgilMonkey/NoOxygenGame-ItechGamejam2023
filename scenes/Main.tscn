[gd_scene load_steps=8 format=3 uid="uid://c3ex6cnoi4jt4"]

[ext_resource type="Script" path="res://scenes/entity/spawn_manager.gd" id="1_d0t83"]
[ext_resource type="PackedScene" uid="uid://cd8y4ij1ee2ol" path="res://scenes/entity/asteroid/asteroid.tscn" id="2_doyi7"]
[ext_resource type="PackedScene" uid="uid://uou4ssvxdcly" path="res://scenes/entity/astronot/astronot.tscn" id="3_5ol35"]
[ext_resource type="Script" path="res://scenes/entity/spawn_around.gd" id="4_dmxju"]
[ext_resource type="Script" path="res://scenes/ui/health_ui.gd" id="5_n3ltv"]
[ext_resource type="Script" path="res://scenes/ui/OxygenUI.gd" id="6_ak3ph"]
[ext_resource type="PackedScene" uid="uid://c0qgguxhpl3lw" path="res://scenes/entity/oxygen/oxygen_tank.tscn" id="7_0lmgl"]

[node name="Main" type="Node2D"]

[node name="SpawnManager" type="Node2D" parent="."]
script = ExtResource("1_d0t83")
asteroid_spawn_count = 70
asteroids = Array[PackedScene]([ExtResource("2_doyi7")])

[node name="Astronot" parent="." instance=ExtResource("3_5ol35")]
position = Vector2(446, 353)

[node name="Camera2D" type="Camera2D" parent="Astronot"]
position_smoothing_enabled = true

[node name="SpawnAround" type="Node2D" parent="Astronot"]
script = ExtResource("4_dmxju")
range_spawn = 2200
asteroid_spawn_count = 12

[node name="DeleteObjectBound" type="Area2D" parent="Astronot"]

[node name="UI" type="CanvasLayer" parent="."]

[node name="GameUI" type="Control" parent="UI"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="HealthUI" type="Label" parent="UI/GameUI"]
layout_mode = 1
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_left = 20.0
offset_top = -180.0
offset_right = 267.0
offset_bottom = -108.0
grow_vertical = 0
theme_override_font_sizes/font_size = 50
text = "Health: 10"
script = ExtResource("5_n3ltv")

[node name="OxygenUI" type="Label" parent="UI/GameUI"]
layout_mode = 1
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_left = 20.0
offset_top = -113.0
offset_right = 267.0
offset_bottom = -41.0
grow_vertical = 0
theme_override_font_sizes/font_size = 50
text = "Oxygen: 200"
script = ExtResource("6_ak3ph")

[node name="OxygenTank" parent="." instance=ExtResource("7_0lmgl")]
position = Vector2(948, 502)

[node name="OxygenTank2" parent="." instance=ExtResource("7_0lmgl")]
position = Vector2(120, 443)

[connection signal="on_death" from="Astronot" to="SpawnManager" method="_on_astronot_on_death"]
[connection signal="on_health_changed" from="Astronot" to="UI/GameUI/HealthUI" method="_on_astronot_on_health_changed"]
[connection signal="on_oxygen_changed" from="Astronot" to="UI/GameUI/OxygenUI" method="_on_astronot_on_oxygen_changed"]
